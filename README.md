# Dynamic Spectre

Dynamically modifiable version of the Specter aperiodic monotile, derived from:

- https://github.com/christianp/aperiodic-monotile
- https://cs.uwaterloo.ca/~csk/spectre/app.html.

This project integrates the dynamic shape generation from monotile.js with the
web page for super-tile generation from the original spectre app.

You can use the tool by opening the index.html file in a web browser. No server is required.

There are tests for the code changes included, in case you want to continue development.

## Usage

1. Select "Spectres" in the Shapes dropdown.
2. Use the sliders to adjust the parameters of the shape.

### Changing the shape of the tiles

The checkbox "Lock A/B" locks the B parameter to the A parameter, so that they always have the same value, for generating Spectres.
Unchecking this box allows for changing the shapes of the tiles.

This is useful when the shape of the center tile is different from the other tiles, which occurs when the A and B parameters are not equal. For example, if you use 1.732 and 4, for example, you will get the hat or turtle shape, with the other as the outline in the center of the supertile. (Note that this version leave that shape empty - it does not generate an outline for the mystic tile in this mode.)

### Removing the Mystic Tile

The checkbox "Remove Mystic" removes the mystic tile (Center) from the super-tile generation process. This is useful when you are experimenting with different shapes and want to see how the other tiles fit together without the center tile.

## Development Notes

The integration was performed using Gemini in the Antigravity IDE.

The key to getting the integration to work was identifying that the shape generated by monotile.js
was mirrored and rotated relative to the shape in the original spectre app. This impacted both the shape
and the super-tile generation. The fix was to apply a transformation to the shape generated by monotile.js
to match the orientation of the shape in the original spectre app and to adjust the vertex order in the
super-tile generation code.

## Testing

### Run all tests

npx playwright test

### Run only geometry tests

npx playwright test tests/geometry.spec.js

### Run only UI tests

npx playwright test tests/ui_controls.spec.js

### Run tests in headed mode (shows browser)

npx playwright test --headed

### Run tests and generate a report

npx playwright test --reporter=html
